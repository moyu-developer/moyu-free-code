import type { NextPage } from "next";
import Head from "next/head";
import { Layout } from "@douyinfe/semi-ui";
import styles from "@/styles/layout.module.css";
import {
  MaterialBasicProduct,
  MaterialContainerProvider,
  MaterialRenderCanvas,
  MaterialConfiguration,
} from "@moyu-code/control";
import * as Components from "antd-mobile";
import * as Materials from '@moyu-code/materials'
import { MaterialComponentType } from "@moyu-code/schema";

const materials: MaterialComponentType[] = Object.keys(Materials).map((k: string) => (Materials as any)[k])

const Example: NextPage = () => {
  /** @name dslView 页面结构 */

  return (
    <Layout className={styles["app"]}>
      <Head>
        <title>example</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      {/* 标准层 */}
      <MaterialContainerProvider materials={materials}>
        {/* 物料列表区 */}
        <MaterialBasicProduct />
        {/* 渲染器 */}
        <MaterialRenderCanvas
          materialComponents={{
            ...(Components as any),
          }}
        />
        {/* 属性编辑器 */}
        <MaterialConfiguration />
      </MaterialContainerProvider>
    </Layout>
  );
};

export default Example;
